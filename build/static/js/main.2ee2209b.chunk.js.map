{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/Names.js","components/Filter.js","services/persons.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Person","name","number","onClick","handlePersonDelete","Names","newFilter","persons","map","person","key","id","filter","toLowerCase","includes","Filter","handleFilterChange","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","newMessage","setMessage","useEffect","personService","initialPersons","console","log","length","event","target","preventDefault","personObject","find","window","confirm","updatePerson","newPersonObject","returnedPerson","catch","error","alert","n","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2ee2209b.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n          <div> name: <input \n                  value={props.newName}\n                  onChange={props.handleNameChange}\n                />\n          </div>\n          <div> number: <input\n                    value={props.newNumber}\n                    onChange={props.handleNumberChange}\n                />\n          </div>     \n          <button type=\"submit\">add</button>\n        </form>\n        \n\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = (props) => {\n  return (\n    <li>\n    {props.name} {props.number} \n    <button type='button' onClick={() => \n      props.handlePersonDelete(props)}>Delete</button>\n    </li>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Names = (props) => {\n    if (props.newFilter === '') {\n        return (\n            props.persons.map(person =>\n              <Person\n                key={person.name}\n                name={person.name}\n                number ={person.number}\n                id={person.id}\n                handlePersonDelete={props.handlePersonDelete}\n                />\n            )\n        )\n    } else {\n        const filtered = props.persons.filter(person => \n            person.name.toLowerCase().includes(props.newFilter.toLowerCase())\n        )\n        return (\n            filtered.map(person =>\n                <Person\n                  key={person.name}\n                  name={person.name}\n                  number={person.number}\n                  id={person.id}\n                  handlePersonDelete={props.handlePersonDelete}\n                  />\n            )\n        )\n    }\n\n    }    \n\n\n\nexport default Names","import React from 'react'\n\nconst Filter = (props) => {\n    return (\n      <form>\n          <div>\n          filter shown with <input\n          value={props.newFilter}\n          onChange={props.handleFilterChange}\n          />\n          </div>\n      </form>\n    )\n  }\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \n  const create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n  \n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\n  const deletePerson = (id) => {\n      const request = axios.delete(`${baseUrl}/${id}`)\n      return request.then(response => response.data)\n  }\n\nexport default { getAll, create, update, deletePerson }","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Names from './components/Names'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\n\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ newMessage, setMessage] = useState(null)\n  \n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })      \n  }, [])\n  console.log('render', persons.length, 'persons')\n\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.find(person => person.name === newName)) {\n      if( window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const updatePerson = persons.filter(person =>\n          person.name === personObject.name)\n\n        const newPersonObject = {\n          name: updatePerson[0].name,\n          number: newNumber,\n          id: updatePerson[0].id\n\n        }\n        personService\n          .update(newPersonObject.id, newPersonObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== newPersonObject.id ? person : returnedPerson))\n          })\n          .catch(error => {\n            alert(\n              `Information of ${newPersonObject.name} has already been removed from server`\n            )\n            setPersons(persons.filter(n => n.id !== newPersonObject.id))\n          })\n          \n      }\n      setNewName('')\n      setNewNumber('')\n      setMessage(\n        `Number of ${personObject.name} has been changed`\n      )\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setMessage(\n            `Added ${personObject.name}`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          alert('Name (min 3) or number (min 8) is too short')\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  const handlePersonDelete = (props) => {\n    if (window.confirm(`Delete ${props.name} ?`)) {\n      personService\n        .deletePerson(props.id)\n        .then(() => {\n          setPersons(persons.filter(person => \n            person.id !== props.id))\n        })\n        setMessage(\n          `Information of ${props.name} has been removed from server`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={newMessage} />\n      \n\n      <Filter\n        newFilter={newFilter}\n        handleFilterChange={handleFilterChange}\n        />\n\n      <h2>add a new</h2>\n\n      <PersonForm \n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      /> \n      <h2>Numbers</h2>\n      <Names\n        newFilter={newFilter}\n        persons={persons}\n        handlePersonDelete={handlePersonDelete}\n      />\n      \n    </div>\n  )\n\n}\n\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n\n\n\n"],"sourceRoot":""}